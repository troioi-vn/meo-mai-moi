<!DOCTYPE html>
<html lang="{{ str_replace('_', '-', app()->getLocale()) }}">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="default">
        <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}">
        <link rel="icon" type="image/png" sizes="32x32" href="{{ asset('icon-32.png') }}">
        <link rel="icon" type="image/png" sizes="16x16" href="{{ asset('icon-16.png') }}">
        <link rel="apple-touch-icon" sizes="180x180" href="{{ asset('apple-touch-icon.png') }}">
        <link rel="manifest" id="app-manifest" href="{{ asset('site-light.webmanifest') }}">
        <meta name="theme-color" content="#ffffff">
        <script>
            ;(function () {
                const manifestEl = document.getElementById('app-manifest')
                const themeColorMeta = document.querySelector('meta[name="theme-color"]')
                const mq = matchMedia('(prefers-color-scheme: dark)')

                function updateManifest() {
                    const storedTheme = localStorage.getItem('vite-ui-theme')
                    let isDark = false

                    if (storedTheme === 'dark') {
                        isDark = true
                    } else if (storedTheme === 'light') {
                        isDark = false
                    } else {
                        isDark = mq.matches
                    }

                    manifestEl.href = "{{ asset('') }}" + (isDark ? 'site-dark.webmanifest' : 'site-light.webmanifest')
                    
                    if (themeColorMeta) {
                        themeColorMeta.setAttribute('content', isDark ? '#020817' : '#ffffff')
                    }
                }

                mq.addEventListener('change', updateManifest)
                window.addEventListener('storage', updateManifest)
                updateManifest()
                window.__updateManifest = updateManifest
            })()
        </script>

        <title>Meo Mai Moi</title>

        <!-- Built assets from frontend build process -->
        <link rel="stylesheet" href="{{ asset('build/assets/index-B0Rq5luw.css') }}">
        <script type="module" src="{{ asset('build/assets/index-mKHsPWRa.js') }}"></script>
    </head>
    <body class="bg-background text-foreground">
        <div id="root"></div>
    </body>
</html>